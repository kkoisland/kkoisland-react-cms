<html><head><title>kkoisland.com</title>  </head><body TEXT=#333333 link=#FF4F6C vlink=#FF4F6C alink=#FF4F6C leftmargin="8" marginwidth="0" topmargin="8" marginheight="0" bottommargin="0"><center><a href="../../my_profile.html"><img src="../../images/ToMyProf.gif" width="68" height="18" border="0"　alt="プロフィール"></a><a href="../d_sanjose.html"><img src="../../images/ToDiary.gif" width="110" height="18" border="0" alt="アメリカの生活へ"></a><a href="../../new_page02.html"><img src="../../images/ToNewPage.gif" width="48" height="18" border="0"　alt="更新履歴"></a><a href="../../index.html"><img src="../../images/ToHome.gif" width="40" height="18" border="0" alt="ホームへ"></a></center>	<center><br><font size=2>	<a href="0901.html">[前の日記]</a>	<a href="0903.html">[次の日記]</a>	</font><br><br><font color="#FF4F6C"><font size=4>'*★ <b>	OSXのアプリケーション、Mailの文字化けの問題	</b> ★*'</font></font><br><br><br>	<table border="0" width="70%"><tr><td><font size=2><font color="#FF4F6C">..*..*..<b> 	2002年9月6日(金) 晴れ	 </b>..*..*..</font></font><br><br><br>	今日はちょっといつもと違います。OSXのMail(アプリケーション)で問題が起きたのですが、それが解決するまで書いてみました。<br><br>最終的には夫が解決してくれたのですが、私自身、Webでいろいろ調べたけど、検索の仕方が悪いのと知識が少ないこともあって、Webからはヒントを得ることができませんでした。もしかしたら、同じ問題で悩んでいる人もいるかもしれないので、問題と解決をまとめましたので、ここに載せることにしました。<br><br>あまり興味のない人は、申し訳ないけど、今日のは飛ばしてくださいm(_ _)m<br><br><br><br><b>問題：</b><br><br>-OSXのMail(1.2)から送信したメッセージが、メーリングリストに投稿されると一部のメーラーで文字化けしてしまう。文字化けしてしまうメーラーは、OSX, Postpetなど。Outlookでは文字化けしない。<br><br>-私はOSXのMail(1.2)を持っているので、自分で再現可能だと思ったけど、どうしても自分では文字化けのメールを送ることができない。<br><br><b>経過：</b><br><br>-文字化けのメッセージはすべて、UTF-8形式で送られてきていたことがわかる。<br><br>-Mail(1.2)の設定でUTF-8で送ったり送らなかったりできるのかを探したけど、そういう選択をできるパネルはない。結局、自分で、UTF-8で送ることはできなかった。<br><br>-メーリングリストを開催しているサーバに送られた文字化けするメッセージをとってきて、OSXのMail(1.2)で再現を試みる。->たったひと文字、「石鹸」の"新JIS(JIS X 0213)で使われている"「ケン」と入れるときだけ、OSXのMail(1.2)がUTF-8形式で送ることがわかる。でも、OSXのMail(1.2)で受信しても、文字化けはしない。<br><br><b>解決：</b><br><br>-一般的な漢字コード（旧JIS=第1水準、第2水準漢字=JIS X 0208）でサポートされていない文字が、メッセージの中で使われたときに起こる。今回の現象は以下の通り。<br><br>1. 一般的な漢字コード（旧JIS=第1水準、第2水準漢字=JIS X 0208）でサポートされていなくて、新JIS(第3水準、第4水準漢字=JIS X 0213) でのみサポートされている文字をメッセージの中で使い、OSX Mail(1.2)で送る。<br><br>2. OSX Mail(1.2)はその文字を読み取り、一般的な漢字コード（旧JIS=第1水準、第2水準漢字=JIS X 0208）では送れないと判断し、新JIS(第3水準、第4水準漢字=JIS X 0213) をサポートするUTF-8形式で送る。<br><br>Note1: Mail(1.2)は、通常ISO-2022-JP等の形式で送っている。<br>Note2: 送付時、UTF-8は8bit、ISO-2022-JP等は7bitでメールをエンコードする。<br><br>3. 8bitでエンコードされたメッセージがメーリングリストに投稿されると、メーリングリストを管理するアプリケーション、 Major Domo は7bitにエンコードしなおそうとする。->文字化けが起こる。<br><br>または、<br><br>UTF-8をサポートしていないメーラーで読むと文字化けする。<br><br>つまり、今回の文字化けは、UTF-8をサポートしていないメーラーで受信するか、メーリングリストに投稿されたときだけ起こる現象だった。OSXは、UTF-8をサポートするので、UTF-8で送られても文字化けを再現することはできない。<br><br>なお、通常使われるISO-2022-JP等でサポートされていない文字の表(主に新JIS)は、こちらにあります。<br><br><a target="_blank" href="http://www.aozora.gr.jp/newJIS-Kanji/gokan_henkou_list.html">http://www.aozora.gr.jp/newJIS-Kanji/gokan_henkou_list.html</a><br><br>上記のURLの「別扱いとなったＡとＢそれぞれの面区点番号」という項目のBの漢字(新JIS=第3水準、第4水準漢字=JIS X 0213) を使ったときに、OSX Mail(1.2)は、UTF-8形式で送り、メーリングリストを通すと文字化けが起こってしまいます。<br><br><!-- 文字コードの種類<br>* EUC-JP<br>* EUC-JP-FIX<br>* ISO-10646-UCS-2<br>* ISO-10646-UCS-4<br>* ISO-2022-JP<br>* Shift-JIS<br>* US-ASCII<br>* UTF-16<br>* UTF-8<br>* Windows-31J-->	<br><br></td></tr></table>	<br><br><font size=2><font color="#FF6666">..*..*..*..*..*..*..*..*..*..*..*..*..*..*..*..*..*..*..*..*..*..<br></font></font><br><br></center>	</body></HTML>
